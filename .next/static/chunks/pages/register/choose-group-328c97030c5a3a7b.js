(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{4154:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register/choose-group",function(){return c(4843)}])},1309:function(a,b,c){"use strict";var d=c(5893),e=c(4184),f=c.n(e);c(7294);var g=function(a){var b=a.onClick,c=a.label,e=a.icon,g=a.color,h=a.block,i=a.className,j=a.disabled,k=a.selected,l=a.loading;return(0,d.jsx)("button",{className:f()("btn","normal-case","font-normal","".concat("primary"!=g||k?"":"btn-primary text-secondary"),"".concat("secondary"!=g||k?"":"btn-secondary text-white"),"".concat("accent"!=g||k?"":"btn-accent text-white"),"".concat("light"!=g||k?"":"bg-white border-white text-black"),"".concat(k?"btn-accent text-white":""),"rounded-[5px]","".concat(h?"btn-block":""),"".concat(j?"btn-disabled":""),"".concat(l?"loading":""),i),onClick:b,children:(0,d.jsxs)("div",{className:"flex gap-x-2 items-center",children:[e&&!k&&!l&&(0,d.jsx)("img",{src:e}),!k&&!l&&c,k&&!l&&(0,d.jsx)("img",{src:"/icons/ic_circle_done_white.svg"})]})})};b.Z=g},8938:function(a,b,c){"use strict";c.d(b,{e:function(){return m},X:function(){return o}});var d=c(1799),e=c(9396),f=c(5893),g=c(4184),h=c.n(g),i=c(1309),j=function(a){var b=a.onClickAction,c=a.className,d=a.title,e=a.category,g=a.labelAction,j=a.children,k=a.selected,l=a.disabled;return(0,f.jsxs)("div",{className:h()("card w-96 bg-base-100 border border-lightgrey rounded-[5px] divide-y divide-lightgrey mt-5",c),children:[(0,f.jsxs)("div",{className:"flex justify-between m-[15px]",children:[(0,f.jsx)("span",{className:"text-muted font-semibold fr-text-body",children:d}),(0,f.jsx)("span",{className:"text-accent fr-text-body font-semibold",children:e})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"px-[18px] py-[15px]",children:j}),(0,f.jsx)("div",{className:"px-[18px] py-[15px]",children:(0,f.jsx)(i.Z,{block:!0,color:"secondary",selected:k,disabled:l,onClick:function(){b()},label:g})})]})]})},k=j,l=function(a){var b=a.rules;return(0,f.jsx)(k,(0,e.Z)((0,d.Z)({className:"w-[236px]",labelAction:"Pilih Kategori"},a),{children:(0,f.jsx)("ul",{className:"px-[18px] list-disc list-outside",children:b.map(function(a,b){return(0,f.jsx)("li",{className:"fr-text-caption text-black",children:a},b)})})}))},m=l,n=function(a){var b=a.captainName;return(0,f.jsx)(k,(0,e.Z)((0,d.Z)({className:"w-[236px]",labelAction:"Masuk Group"},a),{children:(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsx)("div",{className:"text-muted fr-text-caption font-medium",children:"Ketua Group"}),(0,f.jsx)("div",{className:"text-black fr-text-body font-medium",children:b})]})}))},o=n},3815:function(a,b,c){"use strict";c.d(b,{r:function(){return g},T:function(){return f}});var d=c(5893),e=c(7294),f=function(a){var b=a.label,c=a.placeholder,f=a.inputType,g=a.icon,h=a.containerClass,i=a.value,j=a.onChange,k=a.pattern,l=a.errorMessage,m=a.isError,n=(0,e.useState)(!1),o=n[0],p=n[1];return(0,d.jsxs)("div",{className:"form-control w-[268px] ".concat(h),children:[(0,d.jsx)("label",{className:"label",children:(0,d.jsx)("span",{className:"fr-text-caption text-black",children:b})}),(0,d.jsxs)("div",{className:"flex items-center relative",children:[(0,d.jsx)("input",{type:f,placeholder:c,className:"input input-bordered w-full fr-text-body placeholder-darkgret border-lightgrey rounded-[5px]",required:!0,value:i,pattern:k,onChange:function(a){p(!0),j(a)}}),g&&(0,d.jsx)("img",{className:"absolute mr-[1.1rem] right-0",src:g})]}),o&&m&&(0,d.jsx)("label",{className:"label",children:(0,d.jsx)("span",{className:"fr-text-caption text-accent",children:l})})]})},g=function(a){var b=a.label,c=a.placeholder,e=a.items,f=a.onChange;return(0,d.jsxs)("div",{className:"form-control w-[268px] max-w-xs",children:[(0,d.jsx)("label",{className:"label",children:(0,d.jsx)("span",{className:"fr-text-caption text-black",children:b})}),(0,d.jsx)("div",{className:"flex items-center relative",children:(0,d.jsxs)("select",{defaultValue:"",onChange:f,required:!0,className:"select select-bordered w-full max-w-xs fr-text-body placeholder-darkgrey border-lightgrey rounded-[5px] font-medium",children:[(0,d.jsx)("option",{value:"",disabled:!0,children:c}),e.map(function(a,b){return(0,d.jsx)("option",{value:a.value,children:a.label},b)})]})})]})}},2548:function(a,b,c){"use strict";c.d(b,{o:function(){return e},n:function(){return g}});var d=c(5893);function e(a){var b=a.children;return(0,d.jsxs)("div",{className:"absolute -z-10 min-h-screen w-full bg-hero pb-[100px]",children:[(0,d.jsx)("img",{className:"fixed top-0 right-0 -z-10 mobile:w-[123px] mobile:h-[130px]",src:"/images/bg_1.svg"}),(0,d.jsx)("img",{className:"fixed bottom-0 left-0 -z-10 mobile:w-[123px] mobile:h-[130px]",src:"/images/bg_2.svg"}),(0,d.jsx)("img",{className:"absolute top-0 mobile:mx-auto mobile:right-0 mobile:left-0 mt-10 ml-14 -z-10",src:"/icons/fr_icon.svg"}),(0,d.jsx)("div",{className:"container mt-44 bg-transparent mx-auto pb-44",children:b})]})}var f=c(7485);function g(a){var b=a.children,c=a.error,e=a.success;return(0,d.jsxs)("div",{className:"absolute -z-10 min-h-screen w-full bg-white",children:[(0,d.jsx)("img",{className:"w-[252px] h-[265px] mobile:w-[123px] mobile:h-[130px] fixed top-0 right-0 -z-10 ",src:"/images/bg_1.svg"}),(0,d.jsx)("img",{className:"w-[252px] h-[265px] mobile:w-[123px] mobile:h-[130px] fixed bottom-0 left-0 -z-10",src:"/images/bg_2.svg"}),(0,d.jsx)("img",{className:"absolute top-0 mobile:mx-auto mobile:right-0 mobile:left-0 left-0 mt-10 ml-14 -z-10",src:"/icons/fr_icon.svg"}),(0,d.jsx)("div",{className:"container bg-transparent pt-40 mobile:pt-[130px] mx-auto pb-[100px]",children:b}),(0,d.jsx)(f.u4,{error:c,success:e})]})}},7485:function(a,b,c){"use strict";c.d(b,{bW:function(){return h},u4:function(){return i}});var d=c(5893),e=c(7294),f=c(4184),g=c.n(f),h=function(a){return{id:Math.random(),value:a}},i=function(a){var b=a.error,c=void 0===b?{id:0,value:""}:b,f=a.success,h=void 0===f?{id:0,value:""}:f,i=(0,e.useState)(""),j=i[0],k=i[1],l=(0,e.useState)(!1),m=l[0],n=l[1],o=(0,e.useState)(!1),p=o[0],q=o[1];return(0,e.useEffect)(function(){return k(c.value),q(!0),n(!1),setTimeout(function(){q(!1),n(!1),k("")},5e3),function(){clearTimeout()}},[c.id]),(0,e.useEffect)(function(){return k(h.value),n(!0),q(!1),setTimeout(function(){q(!1),n(!1),k("")},5e3),function(){clearTimeout()}},[h.id]),(0,d.jsx)(d.Fragment,{children:j&&(0,d.jsx)("div",{className:g()("fixed top-0 right-0 rounded-[5px] m-5 w-auto alert text-white",m?"alert-success":"",p?"alert-error":""),children:(0,d.jsxs)("div",{children:[m&&(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),p&&(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsx)("span",{children:j})]})})})}},4843:function(a,b,c){"use strict";c.r(b);var d=c(1799),e=c(9396),f=c(5893),g=c(9008),h=c.n(g),i=c(1163),j=c(7294),k=c(2548),l=c(8938),m=c(3815),n=c(1309),o=c(9473),p=c(7485),q=c(6076),r=c(8533),s=function(){var a=function(){if(!K){G(!0);var a=JSON.parse(localStorage.getItem(q.ng))||{};o.Z.post("/api/register",{email:a.email,password:a.password,fullName:a.fullName,nip:a.nip,dob:a.dob,gender:a.gender,phoneNumber:a.phoneNumber,teamId:C.find(function(a){return!0==a.selected}).id,categoryId:a.categoryId,organization:a.unitOrganization}).then(function(a){localStorage.removeItem(q.ng),localStorage.setItem(q.LA,a.data.payload.access_token),localStorage.setItem(q.z6,a.data.payload.refresh_token),c.push("connect-strava")}).catch(function(a){z((0,p.bW)(a.response.data.message))}).finally(function(){G(!1)})}},b=function(){var a=JSON.parse(localStorage.getItem(q.ng))||{};o.Z.get("/api/group",{params:{q:s,unit_organization:a.unitOrganization,category:a.categoryId,page:v,limit:10}}).then(function(a){var b=a.data.payload.data;b.map(function(a){return(0,e.Z)((0,d.Z)({},a),{selected:!1})}),D(C.concat(b)),w(a.data.payload.nextPage),J(0==b.length)}).catch(function(a){z((0,p.bW)(a.response.data.message))})},c=(0,i.useRouter)(),g=(0,j.useState)(""),s=g[0],t=g[1],u=(0,j.useState)(1),v=u[0],w=u[1],x=(0,j.useState)(""),y=x[0],z=x[1],A=(0,j.useState)("");A[0],A[1];var B=(0,j.useState)([]),C=B[0],D=B[1],E=(0,j.useState)(!1),F=E[0],G=E[1],H=(0,j.useState)(!1),I=H[0],J=H[1],K=null==C.find(function(a){return!0==a.selected});return(0,j.useEffect)(function(){b()},[]),(0,j.useEffect)(function(){b()},[s]),(0,f.jsxs)(k.n,{error:y,children:[(0,f.jsxs)(h(),{children:[(0,f.jsx)("title",{children:"Daftar | Pilih Grup"}),(0,f.jsx)("meta",{name:"description",content:"Run ride description"}),(0,f.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsx)("div",{className:"flex justify-center mb-[35px] mobile:mb-[30px]",children:(0,f.jsx)("span",{className:"fr-text-headline-1 text-black self-center",children:"Pilih Group"})}),(0,f.jsxs)("div",{className:"w-[733px] mobile:w-full flex mobile:flex-col mobile:items-center justify-between mx-auto",children:[(0,f.jsx)(m.T,{label:"Cari Group",placeholder:"Masukkan nama group",icon:"/icons/ic_search.svg",containerClass:"w-[284px] mobile:w-[236px]",onChange:function(a){var b=a.target.value;w(1),t(b),D([])}}),(0,f.jsx)(n.Z,{label:"Buat Group +",color:"secondary",className:"mobile:w-[236px] w-[167px] self-end mobile:self-auto mobile:mt-[17px]",onClick:function(){c.push("add-group")}})]}),C.length>0&&(0,f.jsx)(r.Z,{dataLength:C.length,next:b,hasMore:!I,loader:(0,f.jsx)("div",{className:"pt-10",children:(0,f.jsx)("div",{className:"w-[20px] h-[20px] animate-spin radial-progress bg-primary text-primary-content border-2 border-primary m-auto flex",style:{"--value":"70"}})}),children:(0,f.jsx)("div",{className:"grid grid-cols-3 w-[733px] mobile:w-[236px] mx-auto mobile:flex mobile:flex-col mobile:items-center justify-center gap-x-3 mobile:space-y-4",children:C.map(function(a,b){var c=JSON.parse(localStorage.getItem(q.ng))||{},g=a.members.length,h=a.members.filter(function(a){return"M"==a.sex}),i=a.members.filter(function(a){return"F"==a.sex}),j=h?h.length:0,k=i?i.length:0,m="01.A"==c.categoryId||"01.B"==c.categoryId?5:2,n=("01.A"==c.categoryId||"01.B"==c.categoryId)&&"M"==c.gender&&j>=3||"F"==c.gender&&k>=2&&g>m,o=""==c.categoryId&&"M"==c.gender&&j>=1||"F"==c.gender&&k>=1&&g>m;return(0,f.jsx)(l.X,{title:"".concat(g,"/").concat(m),category:a.name,captainName:a.user_name,selected:a.selected,disabled:n||o,onClickAction:function(){D(C.map(function(b){return a.id==b.id?(0,e.Z)((0,d.Z)({},b),{selected:!b.selected}):(0,e.Z)((0,d.Z)({},b),{selected:!1})}))}},b)})})}),0==C.length&&(0,f.jsx)("div",{className:"text-center pt-10",children:"Group tidak ada."}),(0,f.jsx)("div",{className:"flex justify-center pt-[35px] mobile:pt-[30px]",children:(0,f.jsx)(n.Z,{className:"w-[268px] mobile:w-[236px]",color:"primary",label:"Selanjutnya",loading:F,disabled:K,onClick:a})})]})]})};b.default=s},9473:function(a,b,c){"use strict";var d=c(9669),e=c.n(d),f=c(6076),g=c(1163),h=c.n(g),i=e().create({baseURL:"https://vrunride.dhmdev.xyz"});i.interceptors.request.use(function(a){return localStorage.getItem(f.LA)&&(a.headers.Authorization="Bearer "+localStorage.getItem(f.LA)),a},function(a){return Promise.reject(a)}),i.interceptors.response.use(function(a){return a},function(a){var b=a.config;return"api/refresh-token"!==a.config.url&&401===a.response.status&&!b._retry&&localStorage.getItem(f.z6)?(b._retry=!0,i.post("api/refresh-token",{refreshToken:localStorage.getItem(f.z6)}).then(function(a){var c=a.data.payload;return localStorage.setItem(f.LA,c.accessToken),localStorage.setItem(f.z6,c.refreshToken),i(b)}).catch(function(a){return localStorage.clear(),h().push("/login"),Promise.reject(a)})):Promise.reject(a)}),b.Z=i},6076:function(a,b,c){"use strict";c.d(b,{Ah:function(){return d},LA:function(){return g},Nq:function(){return i},m4:function(){return e},ng:function(){return f},z6:function(){return h}});var d=[{title:"01.A",category:"RUN",rules:["Tim","Komponen Tim (5 Anggota dengan 3 Pria dan 2 Wanita)","Usia ≤ 40 Tahun","Total Jarak 77 km per-tim",]},{title:"01.B",category:"RUN",rules:["Tim","Komponen Tim (5 Anggota dengan 3 Pria dan 2 Wanita)","Usia > 40 Tahun","Total Jarak 77 km per-tim",]},{title:"02",category:"RIDE",rules:["Tim","Komponen Tim (1 Pria dan 1 Wanita)","Total Jarak 77 km per-tim",]},],e=["Sekretariat Jenderal","Inspektorat Jenderal","Direktorat Jenderal Bina Marga","Direktorat Jenderal Sumber Daya Air","Direktorat Jenderal Cipta Karya","Direktorat Jenderal Perumahan","Direktorat Jenderal Bina Konstruksi","Direktorat Jenderal Pembiayaan Infrastruktur","Badan Pengembangan Infrastruktur Wilayah","Badan Pengembangan Sumber Daya Manusia","Badan Pengatur Jalan Tol","Lembaga Pengembangan Jasa Konstruksi",],f="DRAFT_REGISTER",g="ACCESS_TOKEN",h="REFRESH_TOKEN",i="ATHLETE_ID"}},function(a){a.O(0,[379,416,774,888,179],function(){var b;return a(a.s=4154)}),_N_E=a.O()}])